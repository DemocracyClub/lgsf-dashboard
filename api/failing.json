[{"council_id":"AGB","missing":false,"latest_run":{"status_code":1,"log_text":"[11:00:43] Fetching Scraper for: AGB                              handlers.py:23\n           Begin attempting to scrape: AGB                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[11:00:44] Getting all files in Councillors...                       base.py:191\n           Getting all files in Councillors/json...                  base.py:191\n           ...found 35 files in Councillors/json                     base.py:207\n           Getting all files in Councillors/raw...                   base.py:191\n           ...found 35 files in Councillors/raw                      base.py:207\n           ...found 71 files in Councillors                          base.py:207\n           Deleting batch no. 1 consisting of 71 files               base.py:216\n[11:00:45] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/councillor_list                       \n[11:00:50] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/argyll-and-bute-council/cou           \n           ncillors-directory/south-kintyre/councillor/john-armour              \n[11:00:51] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/argyll-and-bute-council/cou           \n           ncillors-directory/cowal/councillor/gordon-blair                     \n[11:00:53] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/mid-argyll/councillor/jan-brown                                \n[11:00:54] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/helensburgh-and-lomond-south/councillor/math-campbel           \n           l-sturgess                                                           \n[11:00:56] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/argyll-and-bute-council/cou           \n           ncillors-directory/mid-argyll/councillor/garret-corner               \n[11:00:57] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/lomond-north/councillor/maurice-corry                          \n[11:00:58] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/kintyre-and-islands/councillor/robin-currie                    \n[11:01:00] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/dunoon/councillor/audrey-e-forrest                             \n[11:01:01] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/oban-north-and-lorn/councillor/kieron-green                    \n[11:01:03] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/oban-south-and-isles/councillor/amanda-hampsey                 \n[11:01:04] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/dunoon/councillor/daniel-hampsey                               \n[11:01:05] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/helensburgh-central/councillor/graham-archibald-hard           \n           ie                                                                   \n[11:01:07] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/councillor_list?page=1                \n[11:01:10] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/helensburgh-central/councillor/fiona-howard                    \n[11:01:11] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/oban-south-and-isles/councillor/willie-hume                    \n[11:01:13] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/lomond-north/councillor/mark-irvine                            \n[11:01:14] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/oban-south-and-isles/councillor/andrew-kain                    \n[11:01:15] Scraping from                                              base.py:42\n           https://www.argyll-bute.gov.uk/my-council/councillors-dire           \n           ctory/south-kintyre/councillor/jennifer-kelly                        \n[11:01:17] 'NoneType' object has no attribute 'img'               handlers.py:36\n           Committing batch 1 consisting of 32 files                 base.py:274\n[11:01:18] Finished attempting to scrape: AGB                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 52, in run\n    councillor = self.get_single_councillor(councillor_html)\n  File \"scrapers/AGB-argyll-and-bute/councillors.py\", line 37, in get_single_councillor\n    councillor.photo_url = soup.select_one(\".field--name-field-photo\").img[\"src\"]\nAttributeError: 'NoneType' object has no attribute 'img'\n","start":"2023-11-07 11:00:43.202526","end":"2023-11-07 11:01:18.607255","duration":35}},{"council_id":"ELS","missing":false,"latest_run":{"status_code":1,"log_text":"[09:37:30] Fetching Scraper for: ELS                              handlers.py:23\n           Begin attempting to scrape: ELS                        handlers.py:27\n[09:37:31] Deleting existing data...                                 base.py:239\n           Getting all files in Councillors...                       base.py:191\n           Getting all files in Councillors/json...                  base.py:191\n[09:37:32] ...found 29 files in Councillors/json                     base.py:207\n           Getting all files in Councillors/raw...                   base.py:191\n           ...found 29 files in Councillors/raw                      base.py:207\n           ...found 59 files in Councillors                          base.py:207\n           Deleting batch no. 1 consisting of 59 files               base.py:216\n[09:37:33] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           https://www.cne-siar.gov.uk/your-council/wards-and-council           \n           lors/council-members/                                                \n[09:37:43] HTTPSConnectionPool(host='www.cne-siar.gov.uk',        handlers.py:36\n           port=443): Max retries exceeded with url:                            \n           /your-council/wards-and-councillors/council-members/                 \n           (Caused by                                                           \n           NewConnectionError('<urllib3.connection.HTTPSConnectio               \n           n object at 0x7f431f593970>: Failed to establish a new               \n           connection: [Errno -2] Name or service not known'))                  \n           Finished attempting to scrape: ELS                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/opt/python/urllib3/connection.py\", line 174, in _new_conn\n    conn = connection.create_connection(\n  File \"/opt/python/urllib3/util/connection.py\", line 72, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n  File \"/var/lang/lib/python3.8/socket.py\", line 918, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\nsocket.gaierror: [Errno -2] Name or service not known\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/urllib3/connectionpool.py\", line 715, in urlopen\n    httplib_response = self._make_request(\n  File \"/opt/python/urllib3/connectionpool.py\", line 404, in _make_request\n    self._validate_conn(conn)\n  File \"/opt/python/urllib3/connectionpool.py\", line 1058, in _validate_conn\n    conn.connect()\n  File \"/opt/python/urllib3/connection.py\", line 363, in connect\n    self.sock = conn = self._new_conn()\n  File \"/opt/python/urllib3/connection.py\", line 186, in _new_conn\n    raise NewConnectionError(\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x7f431f593970>: Failed to establish a new connection: [Errno -2] Name or service not known\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/requests/adapters.py\", line 486, in send\n    resp = conn.urlopen(\n  File \"/opt/python/urllib3/connectionpool.py\", line 799, in urlopen\n    retries = retries.increment(\n  File \"/opt/python/urllib3/util/retry.py\", line 592, in increment\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.cne-siar.gov.uk', port=443): Max retries exceeded with url: /your-council/wards-and-councillors/council-members/ (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f431f593970>: Failed to establish a new connection: [Errno -2] Name or service not known'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 151, in get_councillors\n    container = self.get_list_container()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 144, in get_list_container\n    self.base_url_soup = self.get_page(self.base_url)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 131, in get_page\n    page = self.get(\n  File \"/var/task/lgsf/scrapers/base.py\", line 48, in get\n    response = self.requests_session.get(url, headers=headers, verify=verify)\n  File \"/opt/python/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/opt/python/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/opt/python/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/opt/python/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: HTTPSConnectionPool(host='www.cne-siar.gov.uk', port=443): Max retries exceeded with url: /your-council/wards-and-councillors/council-members/ (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f431f593970>: Failed to establish a new connection: [Errno -2] Name or service not known'))\n","start":"2023-11-07 09:37:30.747395","end":"2023-11-07 09:37:43.621872","duration":12}},{"council_id":"LUT","missing":false,"latest_run":{"status_code":1,"log_text":"[10:41:46] Fetching Scraper for: LUT                              handlers.py:23\n           Begin attempting to scrape: LUT                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[10:41:47] Getting all files in Councillors...                       base.py:191\n           Getting all files in Councillors/json...                  base.py:191\n           ...found 48 files in Councillors/json                     base.py:207\n           Getting all files in Councillors/raw...                   base.py:191\n[10:41:48] ...found 48 files in Councillors/raw                      base.py:207\n           ...found 97 files in Councillors                          base.py:207\n           Deleting batch no. 1 consisting of 97 files               base.py:216\n[10:41:49] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           http://democracy.luton.gov.uk/cmis5public/Councillors.aspx           \n[10:43:29] 524 Server Error:  for url:                            handlers.py:36\n           https://democracy.luton.gov.uk/cmis5public/Councillors               \n           .aspx                                                                \n           Finished attempting to scrape: LUT                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 251, in get_councillors\n    req = self.get(\n  File \"/var/task/lgsf/scrapers/base.py\", line 49, in get\n    response.raise_for_status()\n  File \"/opt/python/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 524 Server Error:  for url: https://democracy.luton.gov.uk/cmis5public/Councillors.aspx\n","start":"2023-11-07 10:41:46.565814","end":"2023-11-07 10:43:29.636083","duration":103}},{"council_id":"MDB","missing":false,"latest_run":{"status_code":1,"log_text":"[10:58:02] Fetching Scraper for: MDB                              handlers.py:23\n           Begin attempting to scrape: MDB                        handlers.py:27\n[10:58:03] Deleting existing data...                                 base.py:239\n           Getting all files in Councillors...                       base.py:191\n           Getting all files in Councillors/json...                  base.py:191\n           ...found 47 files in Councillors/json                     base.py:207\n           Getting all files in Councillors/raw...                   base.py:191\n[10:58:04] ...found 47 files in Councillors/raw                      base.py:207\n           ...found 95 files in Councillors                          base.py:207\n           Deleting batch no. 1 consisting of 95 files               base.py:216\n[10:58:05] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           https://moderngov.middlesbrough.gov.uk/mgWebService.asmx/G           \n           etCouncillorsByWard                                                  \n[11:00:14] HTTPSConnectionPool(host='moderngov.middlesbrough.gov. handlers.py:36\n           uk', port=443): Max retries exceeded with url:                       \n           /mgWebService.asmx/GetCouncillorsByWard (Caused by                   \n           NewConnectionError('<urllib3.connection.HTTPSConnectio               \n           n object at 0x7fa6ad6d3f70>: Failed to establish a new               \n           connection: [Errno 110] Connection timed out'))                      \n[11:00:15] Finished attempting to scrape: MDB                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/opt/python/urllib3/connection.py\", line 174, in _new_conn\n    conn = connection.create_connection(\n  File \"/opt/python/urllib3/util/connection.py\", line 95, in create_connection\n    raise err\n  File \"/opt/python/urllib3/util/connection.py\", line 85, in create_connection\n    sock.connect(sa)\nTimeoutError: [Errno 110] Connection timed out\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/urllib3/connectionpool.py\", line 715, in urlopen\n    httplib_response = self._make_request(\n  File \"/opt/python/urllib3/connectionpool.py\", line 404, in _make_request\n    self._validate_conn(conn)\n  File \"/opt/python/urllib3/connectionpool.py\", line 1058, in _validate_conn\n    conn.connect()\n  File \"/opt/python/urllib3/connection.py\", line 363, in connect\n    self.sock = conn = self._new_conn()\n  File \"/opt/python/urllib3/connection.py\", line 186, in _new_conn\n    raise NewConnectionError(\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x7fa6ad6d3f70>: Failed to establish a new connection: [Errno 110] Connection timed out\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/requests/adapters.py\", line 486, in send\n    resp = conn.urlopen(\n  File \"/opt/python/urllib3/connectionpool.py\", line 799, in urlopen\n    retries = retries.increment(\n  File \"/opt/python/urllib3/util/retry.py\", line 592, in increment\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='moderngov.middlesbrough.gov.uk', port=443): Max retries exceeded with url: /mgWebService.asmx/GetCouncillorsByWard (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fa6ad6d3f70>: Failed to establish a new connection: [Errno 110] Connection timed out'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 182, in run\n    wards = self.get_councillors()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 199, in get_councillors\n    req = self.get(self.format_councillor_api_url(), verify=self.verify_requests)\n  File \"/var/task/lgsf/scrapers/base.py\", line 48, in get\n    response = self.requests_session.get(url, headers=headers, verify=verify)\n  File \"/opt/python/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/opt/python/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/opt/python/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/opt/python/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: HTTPSConnectionPool(host='moderngov.middlesbrough.gov.uk', port=443): Max retries exceeded with url: /mgWebService.asmx/GetCouncillorsByWard (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fa6ad6d3f70>: Failed to establish a new connection: [Errno 110] Connection timed out'))\n","start":"2023-11-07 10:58:02.764188","end":"2023-11-07 11:00:15.503119","duration":132}},{"council_id":"OAD","missing":false,"latest_run":{"status_code":1,"log_text":"[11:02:50] Fetching Scraper for: OAD                              handlers.py:23\n           Begin attempting to scrape: OAD                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[11:02:51] Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[11:02:52] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           http://moderngov.oadby-wigston.gov.uk/mgWebService.asmx/Ge           \n           tCouncillorsByWard                                                   \n           ('Connection aborted.', ConnectionResetError(104,      handlers.py:36\n           'Connection reset by peer'))                                         \n           Finished attempting to scrape: OAD                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/opt/python/urllib3/connectionpool.py\", line 715, in urlopen\n    httplib_response = self._make_request(\n  File \"/opt/python/urllib3/connectionpool.py\", line 467, in _make_request\n    six.raise_from(e, None)\n  File \"<string>\", line 3, in raise_from\n  File \"/opt/python/urllib3/connectionpool.py\", line 462, in _make_request\n    httplib_response = conn.getresponse()\n  File \"/var/lang/lib/python3.8/http/client.py\", line 1348, in getresponse\n    response.begin()\n  File \"/var/lang/lib/python3.8/http/client.py\", line 316, in begin\n    version, status, reason = self._read_status()\n  File \"/var/lang/lib/python3.8/http/client.py\", line 277, in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n  File \"/var/lang/lib/python3.8/socket.py\", line 669, in readinto\n    return self._sock.recv_into(b)\nConnectionResetError: [Errno 104] Connection reset by peer\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/requests/adapters.py\", line 486, in send\n    resp = conn.urlopen(\n  File \"/opt/python/urllib3/connectionpool.py\", line 799, in urlopen\n    retries = retries.increment(\n  File \"/opt/python/urllib3/util/retry.py\", line 550, in increment\n    raise six.reraise(type(error), error, _stacktrace)\n  File \"/opt/python/urllib3/packages/six.py\", line 769, in reraise\n    raise value.with_traceback(tb)\n  File \"/opt/python/urllib3/connectionpool.py\", line 715, in urlopen\n    httplib_response = self._make_request(\n  File \"/opt/python/urllib3/connectionpool.py\", line 467, in _make_request\n    six.raise_from(e, None)\n  File \"<string>\", line 3, in raise_from\n  File \"/opt/python/urllib3/connectionpool.py\", line 462, in _make_request\n    httplib_response = conn.getresponse()\n  File \"/var/lang/lib/python3.8/http/client.py\", line 1348, in getresponse\n    response.begin()\n  File \"/var/lang/lib/python3.8/http/client.py\", line 316, in begin\n    version, status, reason = self._read_status()\n  File \"/var/lang/lib/python3.8/http/client.py\", line 277, in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n  File \"/var/lang/lib/python3.8/socket.py\", line 669, in readinto\n    return self._sock.recv_into(b)\nurllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 182, in run\n    wards = self.get_councillors()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 199, in get_councillors\n    req = self.get(self.format_councillor_api_url(), verify=self.verify_requests)\n  File \"/var/task/lgsf/scrapers/base.py\", line 48, in get\n    response = self.requests_session.get(url, headers=headers, verify=verify)\n  File \"/opt/python/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/opt/python/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/opt/python/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/opt/python/requests/adapters.py\", line 501, in send\n    raise ConnectionError(err, request=request)\nrequests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))\n","start":"2023-11-07 11:02:50.247540","end":"2023-11-07 11:02:52.727063","duration":2}},{"council_id":"ORK","missing":false,"latest_run":{"status_code":1,"log_text":"[11:04:57] Fetching Scraper for: ORK                              handlers.py:23\n           Begin attempting to scrape: ORK                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[11:04:58] Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[11:04:59] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           https://www.orkney.gov.uk/Council/Councillors/councillor-p           \n           rofiles.htm                                                          \n           404 Client Error: Not Found for url:                   handlers.py:36\n           https://www.orkney.gov.uk/Council/Councillors/councill               \n           or-profiles.htm                                                      \n           Finished attempting to scrape: ORK                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 151, in get_councillors\n    container = self.get_list_container()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 144, in get_list_container\n    self.base_url_soup = self.get_page(self.base_url)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 131, in get_page\n    page = self.get(\n  File \"/var/task/lgsf/scrapers/base.py\", line 49, in get\n    response.raise_for_status()\n  File \"/opt/python/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.orkney.gov.uk/Council/Councillors/councillor-profiles.htm\n","start":"2023-11-07 11:04:57.465868","end":"2023-11-07 11:04:59.886228","duration":2}},{"council_id":"SFT","missing":false,"latest_run":{"status_code":1,"log_text":"[08:22:31] Fetching Scraper for: SFT                              handlers.py:23\n[08:22:32] Begin attempting to scrape: SFT                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n           Getting all files in Councillors...                       base.py:191\n[08:22:33] ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[08:22:34] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           http://modgov.sefton.gov.uk/mgWebService.asmx/GetCouncillo           \n           rsByWard                                                             \n           HTTPSConnectionPool(host='modgov.sefton.gov.uk',       handlers.py:36\n           port=443): Max retries exceeded with url:                            \n           /mgWebService.asmx/GetCouncillorsByWard (Caused by                   \n           SSLError(SSLCertVerificationError(1, '[SSL:                          \n           CERTIFICATE_VERIFY_FAILED] certificate verify failed:                \n           unable to get local issuer certificate                               \n           (_ssl.c:1131)')))                                                    \n           Finished attempting to scrape: SFT                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/opt/python/urllib3/connectionpool.py\", line 715, in urlopen\n    httplib_response = self._make_request(\n  File \"/opt/python/urllib3/connectionpool.py\", line 404, in _make_request\n    self._validate_conn(conn)\n  File \"/opt/python/urllib3/connectionpool.py\", line 1058, in _validate_conn\n    conn.connect()\n  File \"/opt/python/urllib3/connection.py\", line 419, in connect\n    self.sock = ssl_wrap_socket(\n  File \"/opt/python/urllib3/util/ssl_.py\", line 449, in ssl_wrap_socket\n    ssl_sock = _ssl_wrap_socket_impl(\n  File \"/opt/python/urllib3/util/ssl_.py\", line 493, in _ssl_wrap_socket_impl\n    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)\n  File \"/var/lang/lib/python3.8/ssl.py\", line 500, in wrap_socket\n    return self.sslsocket_class._create(\n  File \"/var/lang/lib/python3.8/ssl.py\", line 1073, in _create\n    self.do_handshake()\n  File \"/var/lang/lib/python3.8/ssl.py\", line 1342, in do_handshake\n    self._sslobj.do_handshake()\nssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1131)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/requests/adapters.py\", line 486, in send\n    resp = conn.urlopen(\n  File \"/opt/python/urllib3/connectionpool.py\", line 799, in urlopen\n    retries = retries.increment(\n  File \"/opt/python/urllib3/util/retry.py\", line 592, in increment\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='modgov.sefton.gov.uk', port=443): Max retries exceeded with url: /mgWebService.asmx/GetCouncillorsByWard (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1131)')))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 182, in run\n    wards = self.get_councillors()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 199, in get_councillors\n    req = self.get(self.format_councillor_api_url(), verify=self.verify_requests)\n  File \"/var/task/lgsf/scrapers/base.py\", line 48, in get\n    response = self.requests_session.get(url, headers=headers, verify=verify)\n  File \"/opt/python/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/opt/python/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/opt/python/requests/sessions.py\", line 725, in send\n    history = [resp for resp in gen]\n  File \"/opt/python/requests/sessions.py\", line 725, in <listcomp>\n    history = [resp for resp in gen]\n  File \"/opt/python/requests/sessions.py\", line 266, in resolve_redirects\n    resp = self.send(\n  File \"/opt/python/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/opt/python/requests/adapters.py\", line 517, in send\n    raise SSLError(e, request=request)\nrequests.exceptions.SSLError: HTTPSConnectionPool(host='modgov.sefton.gov.uk', port=443): Max retries exceeded with url: /mgWebService.asmx/GetCouncillorsByWard (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1131)')))\n","start":"2023-11-07 08:22:31.995437","end":"2023-11-07 08:22:34.566971","duration":2}},{"council_id":"SHE","missing":false,"latest_run":{"status_code":null,"log_text":"[11:28:20] Fetching Scraper for: SHE                              handlers.py:22\n           Begin attempting to scrape: SHE                        handlers.py:25\n           Deleting existing data...                                 base.py:234\n           Getting all files in SHE...                               base.py:186\n[11:28:21] Getting all files in SHE/json...                          base.py:186\n           ...found 30 files in SHE/json                             base.py:202\n           Getting all files in SHE/raw...                           base.py:186\n           ...found 30 files in SHE/raw                              base.py:202\n           ...found 61 files in SHE                                  base.py:202\n           Deleting batch no. 1 consisting of 61 files               base.py:211\n[11:28:32] An error occurred (ThrottlingException) when calling   handlers.py:34\n           the CreateCommit operation (reached max retries: 4):                 \n           Rate exceeded                                                        \n           Finished attempting to scrape: SHE                        base.py:319\n","errors":"An error occurred (ThrottlingException) when calling the CreateCommit operation (reached max retries: 4): Rate exceeded","start":"2022-04-04 11:28:20.509898","end":"2022-04-04 11:28:32.871624","duration":12}},{"council_id":"SHN","missing":false,"latest_run":{"status_code":1,"log_text":"[09:43:47] Fetching Scraper for: SHN                              handlers.py:23\n           Begin attempting to scrape: SHN                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[09:43:48] Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[09:43:49] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           http://moderngov.sthelens.gov.uk/mgWebService.asmx/GetCoun           \n           cillorsByWard                                                        \n           HTTPConnectionPool(host='moderngov.sthelens.gov.uk',   handlers.py:36\n           port=80): Max retries exceeded with url:                             \n           /mgWebService.asmx/GetCouncillorsByWard (Caused by                   \n           NewConnectionError('<urllib3.connection.HTTPConnection               \n           object at 0x7f431fb48730>: Failed to establish a new                 \n           connection: [Errno 113] No route to host'))                          \n           Finished attempting to scrape: SHN                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/opt/python/urllib3/connection.py\", line 174, in _new_conn\n    conn = connection.create_connection(\n  File \"/opt/python/urllib3/util/connection.py\", line 95, in create_connection\n    raise err\n  File \"/opt/python/urllib3/util/connection.py\", line 85, in create_connection\n    sock.connect(sa)\nOSError: [Errno 113] No route to host\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/urllib3/connectionpool.py\", line 715, in urlopen\n    httplib_response = self._make_request(\n  File \"/opt/python/urllib3/connectionpool.py\", line 416, in _make_request\n    conn.request(method, url, **httplib_request_kw)\n  File \"/opt/python/urllib3/connection.py\", line 244, in request\n    super(HTTPConnection, self).request(method, url, body=body, headers=headers)\n  File \"/var/lang/lib/python3.8/http/client.py\", line 1256, in request\n    self._send_request(method, url, body, headers, encode_chunked)\n  File \"/var/lang/lib/python3.8/http/client.py\", line 1302, in _send_request\n    self.endheaders(body, encode_chunked=encode_chunked)\n  File \"/var/lang/lib/python3.8/http/client.py\", line 1251, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"/var/lang/lib/python3.8/http/client.py\", line 1011, in _send_output\n    self.send(msg)\n  File \"/var/lang/lib/python3.8/http/client.py\", line 951, in send\n    self.connect()\n  File \"/opt/python/urllib3/connection.py\", line 205, in connect\n    conn = self._new_conn()\n  File \"/opt/python/urllib3/connection.py\", line 186, in _new_conn\n    raise NewConnectionError(\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f431fb48730>: Failed to establish a new connection: [Errno 113] No route to host\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/python/requests/adapters.py\", line 486, in send\n    resp = conn.urlopen(\n  File \"/opt/python/urllib3/connectionpool.py\", line 799, in urlopen\n    retries = retries.increment(\n  File \"/opt/python/urllib3/util/retry.py\", line 592, in increment\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\nurllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='moderngov.sthelens.gov.uk', port=80): Max retries exceeded with url: /mgWebService.asmx/GetCouncillorsByWard (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f431fb48730>: Failed to establish a new connection: [Errno 113] No route to host'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 182, in run\n    wards = self.get_councillors()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 199, in get_councillors\n    req = self.get(self.format_councillor_api_url(), verify=self.verify_requests)\n  File \"/var/task/lgsf/scrapers/base.py\", line 48, in get\n    response = self.requests_session.get(url, headers=headers, verify=verify)\n  File \"/opt/python/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/opt/python/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/opt/python/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/opt/python/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: HTTPConnectionPool(host='moderngov.sthelens.gov.uk', port=80): Max retries exceeded with url: /mgWebService.asmx/GetCouncillorsByWard (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f431fb48730>: Failed to establish a new connection: [Errno 113] No route to host'))\n","start":"2023-11-07 09:43:47.421667","end":"2023-11-07 09:43:49.900883","duration":2}},{"council_id":"SNO","missing":false,"latest_run":{"status_code":1,"log_text":"[10:41:18] Fetching Scraper for: SNO                              handlers.py:23\n           Begin attempting to scrape: SNO                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[10:41:19] Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[10:41:20] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           https://www.southnorfolkandbroadland.gov.uk/directory/3/so           \n           uth-norfolk-councillor-directory/category/11                         \n           404 Client Error: Not Found for url:                   handlers.py:36\n           https://www.southnorfolkandbroadland.gov.uk/directory/               \n           3/south-norfolk-councillor-directory/category/11                     \n           Finished attempting to scrape: SNO                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 151, in get_councillors\n    container = self.get_list_container()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 144, in get_list_container\n    self.base_url_soup = self.get_page(self.base_url)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 131, in get_page\n    page = self.get(\n  File \"/var/task/lgsf/scrapers/base.py\", line 49, in get\n    response.raise_for_status()\n  File \"/opt/python/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.southnorfolkandbroadland.gov.uk/directory/3/south-norfolk-councillor-directory/category/11\n","start":"2023-11-07 10:41:18.405626","end":"2023-11-07 10:41:20.703394","duration":2}},{"council_id":"SST","missing":false,"latest_run":{"status_code":1,"log_text":"[10:43:34] Fetching Scraper for: SST                              handlers.py:23\n           Begin attempting to scrape: SST                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n           Getting all files in Councillors...                       base.py:191\n[10:43:35] ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[10:43:36] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           https://services.sstaffs.gov.uk/cmis/Councillors.aspx                \n           404 Client Error: Not Found for url:                   handlers.py:36\n           https://services.sstaffs.gov.uk/cmis/Councillors.aspx                \n           Finished attempting to scrape: SST                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 251, in get_councillors\n    req = self.get(\n  File \"/var/task/lgsf/scrapers/base.py\", line 49, in get\n    response.raise_for_status()\n  File \"/opt/python/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://services.sstaffs.gov.uk/cmis/Councillors.aspx\n","start":"2023-11-07 10:43:34.055159","end":"2023-11-07 10:43:36.535796","duration":2}},{"council_id":"STG","missing":false,"latest_run":{"status_code":1,"log_text":"[09:08:43] Fetching Scraper for: STG                              handlers.py:23\n           Begin attempting to scrape: STG                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[09:08:44] Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[09:08:45] ...data deleted.                                          base.py:246\n           Scraping from https://www.stirling.gov.uk/councillors      base.py:42\n[09:08:48] list index out of range                                handlers.py:36\n           Finished attempting to scrape: STG                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 151, in get_councillors\n    container = self.get_list_container()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 148, in get_list_container\n    return selected[0]\nIndexError: list index out of range\n","start":"2023-11-07 09:08:43.462403","end":"2023-11-07 09:08:48.718455","duration":5}},{"council_id":"TES","missing":false,"latest_run":{"status_code":1,"log_text":"[10:25:46] Fetching Scraper for: TES                              handlers.py:23\n           Begin attempting to scrape: TES                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[10:25:47] Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[10:25:48] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           http://testvalley.cmis.uk.com/testvalleypublic/ElectedRepr           \n           esentatives/tabid/63/ScreenMode/Alphabetical/Default.aspx#           \n           MemberSectionA                                                       \n           404 Client Error: Not Found for url:                   handlers.py:36\n           http://testvalley.cmis.uk.com/testvalleypublic/Elected               \n           Representatives/tabid/63/ScreenMode/Alphabetical/Defau               \n           lt.aspx#MemberSectionA                                               \n           Finished attempting to scrape: TES                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 251, in get_councillors\n    req = self.get(\n  File \"/var/task/lgsf/scrapers/base.py\", line 49, in get\n    response.raise_for_status()\n  File \"/opt/python/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 404 Client Error: Not Found for url: http://testvalley.cmis.uk.com/testvalleypublic/ElectedRepresentatives/tabid/63/ScreenMode/Alphabetical/Default.aspx#MemberSectionA\n","start":"2023-11-07 10:25:46.286201","end":"2023-11-07 10:25:48.516838","duration":2}},{"council_id":"THE","missing":false,"latest_run":{"status_code":1,"log_text":"[08:58:48] Fetching Scraper for: THE                              handlers.py:23\n           Begin attempting to scrape: THE                        handlers.py:27\n[08:58:49] Deleting existing data...                                 base.py:239\n           Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[08:58:50] ...data deleted.                                          base.py:246\n           Scraping from                                              base.py:42\n           https://www.threerivers.gov.uk/listing/councillors                   \n[08:58:52] 'NoneType' object has no attribute 'findNext'          handlers.py:36\n           Finished attempting to scrape: THE                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 151, in get_councillors\n    container = self.get_list_container()\n  File \"scrapers/THE-three-rivers/councillors.py\", line 13, in get_list_container\n    return soup.find(\"h3\", text=\"District Councillor\").findNext(\"ul\")\nAttributeError: 'NoneType' object has no attribute 'findNext'\n","start":"2023-11-07 08:58:48.586656","end":"2023-11-07 08:58:52.496373","duration":3}},{"council_id":"WRT","missing":false,"latest_run":{"status_code":1,"log_text":"[09:38:35] Fetching Scraper for: WRT                              handlers.py:23\n           Begin attempting to scrape: WRT                        handlers.py:27\n           Deleting existing data...                                 base.py:239\n[09:38:36] Getting all files in Councillors...                       base.py:191\n           ...found 1 files in Councillors                           base.py:207\n           Deleting batch no. 1 consisting of 1 files                base.py:216\n[09:38:37] ...data deleted.                                          base.py:246\n           Scraping from https://www.warrington.gov.uk/councillors    base.py:42\n[09:38:39] More than one element selected                         handlers.py:36\n[09:38:40] Finished attempting to scrape: WRT                        base.py:324\n","errors":"Traceback (most recent call last):\n  File \"/var/task/lgsf/aws_lambda/handlers.py\", line 32, in scraper_worker_handler\n    scraper.run(run_log)\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 50, in run\n    for councillor_html in self.get_councillors():\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 151, in get_councillors\n    container = self.get_list_container()\n  File \"/var/task/lgsf/councillors/scrapers.py\", line 147, in get_list_container\n    raise ValueError(\"More than one element selected\")\nValueError: More than one element selected\n","start":"2023-11-07 09:38:35.553102","end":"2023-11-07 09:38:40.169158","duration":4}}]
